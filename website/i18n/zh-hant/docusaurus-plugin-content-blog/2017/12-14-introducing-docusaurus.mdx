---
title: Introducing Docusaurus
authors: JMarcey
tags: [documentation, blog, docusaurus]
---

![](/img/slash-introducing.svg)

我們非常高興向您介紹 [Docusaurus](https://github.com/facebook/docusaurus)，這款工具能協助您管理一個或多個開源網站。

我們創建 [Docusaurus](https://docusaurus.io) 的初衷如下：

1. 讓您專注於撰寫優質文檔，無需擔心網站基礎架構問題。
1. 提供多數開源網站所需的功能，如部落格支援、搜尋和版本控制。
1. 便於一次性推送更新、新功能和錯誤修復給所有使用者。
1. 最後，確保所有開源專案保持一致的視覺風格。

<!--truncate-->

Docusaurus 是一款專為團隊設計的工具，旨在讓發布文檔網站變得簡單，無需操心基礎架構和設計細節。其核心在於，使用者只需提供以 Markdown 撰寫的文檔檔案、對提供的 React 首頁進行自訂，以及一些配置修改。Docusaurus 會處理其餘部分，提供預設樣式、網站格式化和簡易的文件導覽。開始使用非常容易，使用者可以透過 `npm` 或 `yarn` [安裝](https://v1.docusaurus.io/docs/en/installation.html)，並透過簡單的初始化腳本[立即創建一個可運行的範例網站](https://v1.docusaurus.io/docs/en/site-preparation.html)。

Docusaurus 還提供了一系列核心網站和文檔功能，包括[部落格支援](https://v1.docusaurus.io/docs/en/blog.html)、[國際化](https://v1.docusaurus.io/docs/en/translation.html)、[搜尋](https://v1.docusaurus.io/docs/en/search.html)和[版本控制](https://v1.docusaurus.io/docs/en/versioning.html)。雖然某些專案可能不需要這些功能，但啟用它們通常只需更新配置選項，而無需從頭開始添加基礎架構。隨著 Docusaurus 新增更多功能，使用者只需輕鬆更新至最新版本。這可以透過簡單運行 npm 或 yarn update 並更新配置選項來實現。使用者或團隊無需在每次新增功能時手動重新調整整個網站基礎架構。

## Docusaurus 的誕生

![](/img/slash-birth.png)

當 Facebook 首次啟動其開源計劃時，許多團隊為每個開源專案實現了自訂網站。這種方法在開源計劃團隊被要求協助專案團隊改進文檔時帶來了挑戰。由於每個網站都是獨特的，添加基本基礎架構（如部落格、一致的導覽、搜尋等）變成了艱鉅的任務。

開源團隊嘗試透過基於 Jekyll 的標準模板來緩解這個問題，該模板可作為專案網站的起點。我們要求新專案手動將模板源代碼複製到他們的倉庫中，撰寫文檔並發布。這種模板方法被大多數新啟動的開源專案採用；一些現有專案甚至將其自訂網站實現轉換為新模板。

「將模板複製到您的倉庫」這種方法的問題在於，儘管平台一致，但在整個使用模板的專案套件中推送更新變得難以維護。這是因為在專案將模板複製到其倉庫後，我們失去了對模板的控制。專案可以自由修改模板並添加專案特定的功能。因此，雖然專案共享相同的網站生成平台，但它們已經分叉到無法利用我們隨時間添加到模板中的新功能。我們無法輕鬆要求所有現有專案「複製」新版本的模板，因為這可能會破壞其現有網站或移除他們自行添加的功能。相反，我們必須手動將更新應用到每個專案。當專案開始要求模板支援國際化時，這變得非常棘手，因為這需要對模板的結構和生成方式進行底層更改。

因此我們開始思考如何解決跨專案網站更新與風格統一的挑戰。我們希望多個專案能共用同一套網站生成系統，初始使用相同模板，同時保留自訂主題的彈性。專案團隊可以擴展與調整網站，但當我們更新底層基礎架構時，他們只需簡單升級而不會出現相容性問題。

Docusaurus 就此誕生！

在 Facebook 內部，Docusaurus 能快速為不同專案建立文件網站，特別適合缺乏網頁開發經驗或僅需基礎展示頁面的團隊。它已支援進階功能如 Jest 的國際化與 React Native 的版本控制。當新功能需求出現時，我們將其整合至 Docusaurus 後，所有專案都能同步受益！這大幅降低了維護不同專案網站的工作量，讓團隊能更專注於功能開發、錯誤修復與文件撰寫。

## 快速開始

![](/img/slash-up-and-running.png)

核心設計理念是簡化使用流程。只需執行一條[安裝指令](https://v1.docusaurus.io/docs/en/installation.html)並完成基本[配置](https://v1.docusaurus.io/docs/en/site-preparation.html)，即可獲得預設運行的網站。

執行 `docusaurus-init` 後，您將看到如下結構：

```bash
root-of-repo
├── docs-examples-from-docusaurus
│   ├── doc1.md
│   ├── doc2.md
│   ├── doc3.md
│   ├── example-doc4.md
│   └── example-doc5.md
├── website
│   ├── blog-examples-from-docusaurus
│   │   ├── 2016-03-11-blog-post.md
│   │   └── 2017-04-10-blog-post-two.md
│   ├── core
│   │   └── Footer.js
│   ├── node_modules
│   ├── package.json
│   ├── pages
│   ├── sidebars.json
│   ├── siteConfig.js
│   └── static
```

除 node_modules 和 package.json 外，所有目錄與文件皆用於自訂 Docusaurus 網站：docs 文件夾存放 Markdown 格式的[說明文件](https://v1.docusaurus.io/docs/en/blog.html)；blog 文件夾管理[部落格文章](https://v1.docusaurus.io/docs/en/blog.html)；`siteConfig.js` 負責主要[網站配置](https://v1.docusaurus.io/docs/en/site-config.html)；`sidebars.json` 控制文件[側邊欄導航](https://v1.docusaurus.io/docs/en/navigation.html)結構；pages 文件夾添加[自訂頁面](https://v1.docusaurus.io/docs/en/custom-pages.html)；static 文件夾存放靜態資源（如 CSS 樣式表與圖片）；core 文件夾則可修改網站核心元件（例如頁尾）。

## Docusaurus 運作原理

Docusaurus 主要採用 JavaScript 與 [React](https://facebook.github.io/react) 開發，取代舊版模板使用的 Jekyll。我們使用 [Remarkable](https://github.com/jonschlinkert/remarkable) 渲染 Markdown，並以 [highlight.js](https://highlightjs.org/) 實現程式碼區塊語法高亮。核心功能實現在 [Docusaurus 代碼庫](https://github.com/facebook/docusaurus/)的 [lib 目錄](https://github.com/facebookexperimental/Docusaurus/tree/master/lib)，其結構如下：

```bash
root-of-Docusaurus
├── lib
│   ├── core
│   ├── server
│   │   ├── generate.js
│   │   ├── server.js
│   │   └── ...and more files
│   ├── static
│   ├── build-files.js
│   ├── copy-examples.js
│   ├── generate-feed.js
│   ├── publish-gh-pages.js
│   ├── rename-version.js
│   ├── start-server.js
│   ├── versions.js
│   └── write-translations.js
```

關鍵文件為 build-files.js 和 start-server.js：前者生成實體文件供外部網頁伺服器使用，後者用於本地測試。兩者皆遵循相同流程，將所有 Markdown 與配置轉換為可運行的網站：

1. 在 `siteConfig.js` 中處理您的網站設定
1. 讀取存在於您 docs 目錄中所有 Markdown 文件的文件元數據
1. 根據從元數據提取的 ID 為您的文件建立目錄
1. 將 Markdown 轉換為 HTML，包括進行連結替換
1. 這些文件將放置在編譯後網站的 build/docs 目錄中，任何翻譯版本將放置在 build/docs 文件夾內的語言特定文件夾中
1. 對部落格文章重複步驟 1-3
1. 部落格文件將放置在編譯後網站的 build/blog 目錄中
1. 讀取 main.css 文件並將任何用戶定義的 css 串接成主 css 文件，該文件將位於編譯後網站的 build/css 目錄中
1. 將圖片複製到編譯後網站的 build/img 目錄中
1. 將添加到網站 pages 文件夾的任何自訂頁面編譯/複製到編譯後網站的根 build 目錄中。任何翻譯版本將放置在 build 文件夾內的語言特定文件夾中
1. 建立 CNAME 和 sitemap.xml 文件並將它們添加到 build 中

請注意，此過程並未完全考慮翻譯或版本控制的工作方式。這些功能的底層細節將留待未來的部落格文章說明。

您編譯後網站的最終結構將類似於：

```bash
build
├── website
│   ├── CNAME
│   ├── blog
│   ├── css
│   ├── docs
│   ├── en
│   ├── help.html # custom page
│   ├── img
│   ├── index.html # landing page
│   ├── sitemap.xml
│   └── users.html # custom page
```

## 社群

![](/img/docusaurus.svg)

我們歡迎您對 Docusaurus 的[貢獻](https://github.com/facebook/docusaurus/blob/master/CONTRIBUTING.md)，無論您是想將它用於自己的網站、想[貢獻](https://github.com/facebook/docusaurus/blob/master/CONTRIBUTING.md) Docusaurus 核心，還是僅僅有問題。請在 [GitHub](https://github.com/facebook/docusaurus) 和 [X](https://x.com/docusaurus) 上關注我們。

## 致謝

Docusaurus 的存在離不開核心 Docusaurus 團隊其他成員的工作：[Eric Nakagawa](http://x.com/ericnakagawa)、[Hector Ramos](https://x.com/hectorramos)、[Eric Vicenti](https://x.com/EricVicenti) 和 [Frank Li](https://github.com/deltice) — 一位曾在 Facebook 實習並實現了核心技術和功能的工程師。

我們還要特別感謝 Docusaurus 的早期[採用者](https://v1.docusaurus.io/en/users.html)：

- [BuckleScript](https://bucklescript.github.io/)
- [FastText](https://fasttext.cc)
- [Jest](https://jestjs.io)
- [Make It Open](http://makeitopen.com)
- [Prettier](https://prettier.io/)
- [Reason-react](https://reasonml.github.io/reason-react/)
- [React Native](https://facebook.github.io/react-native/)
- [Relay](https://facebook.github.io/relay/)

如果沒有他們致力於建立或將他們的網站遷移到該平台，我們就不會有今天的成就。

## 資源

- [閱讀我們的文檔](https://v1.docusaurus.io)
- [關注我們的 X 動態](https://x.com/docusaurus)
- [在 GitHub 上關注我們](https://github.com/facebook/docusaurus)
- [關於 Docusaurus 吉祥物 Slash](https://v1.docusaurus.io/about-slash.html)