---
title: Announcing Docusaurus 3.0
authors:
  - slorber
tags: [release]
image: ./img/social-card.png
date: 2023-10-31
---

ä»Šå¤©ï¼Œæˆ‘å€‘å¾ˆé«˜èˆˆå®£å¸ƒ **Docusaurus 3.0** æ­£å¼ç™¼å¸ƒï¼ ğŸ¥³

åœ¨ [**Meta é–‹æºå°ˆæ¡ˆ**](https://opensource.fb.com/) ä¸­ï¼Œæˆ‘å€‘ç›¸ä¿¡ Docusaurus èƒ½å”åŠ©æ‚¨ä»¥ **æœ€å°æˆæœ¬** æ‰“é€  **æœ€ä½³æ–‡æª”ç¶²ç«™**ï¼Œè®“æ‚¨å°ˆæ³¨æ–¼çœŸæ­£é‡è¦çš„äº‹ï¼šæ’°å¯«å…§å®¹ã€‚

é€™æ˜¯ Docusaurus çš„ **å…¨æ–°ä¸»è¦ç‰ˆæœ¬**ï¼Œå¸¶ä¾† **ä»¤äººæŒ¯å¥®çš„æ–°åŠŸèƒ½** èˆ‡å‡ç´šçš„ä¾è³´é …ã€‚

éµå¾ª [**èªæ„åŒ–ç‰ˆæœ¬æ§åˆ¶**](https://semver.org/) åŸå‰‡ï¼Œæ­¤ç‰ˆæœ¬åŒ…å«æˆ‘å€‘è©³ç›¡è¨˜éŒ„æ–¼ [**v3 å‡ç´šæŒ‡å—**](/docs/migration/v3/) çš„ **é‡å¤§è®Šæ›´**ã€‚é›–ç„¶è®Šæ›´å¯èƒ½å¸¶ä¾†ä¸ä¾¿ï¼Œä½†é€™äº›èª¿æ•´æ˜¯ç‚º Docusaurus æœªä¾†è¨ˆç•«å¯¦ç¾çš„ **æ–°ä¸€æ³¢åŠŸèƒ½** å¥ å®šåŸºç¤çš„å¿…è¦ä¹‹èˆ‰ã€‚

![v3.0 ç¤¾ç¾¤åª’é«”é è¦½åœ–](./img/social-card.png)

æˆ‘å€‘åŸè¨ˆç•«æ›´é »ç¹åœ°ç™¼å¸ƒä¸»è¦ç‰ˆæœ¬ï¼Œä½† Docusaurus v3 çš„é–‹ç™¼æ™‚ç¨‹æ¯”é æœŸæ›´é•·ã€‚åœ¨ç´¯ç©çš„é‡å¤§è®Šæ›´ä¸­ï¼Œ**å‡ç´šè‡³ MDX v3** å¯èƒ½æ˜¯æ¡ç”¨æ­¤æ–°ç‰ˆæœ¬çš„ä¸»è¦æŒ‘æˆ°ã€‚æˆ‘å€‘ç«­ç›¡æ‰€èƒ½è®“å‡ç´šéç¨‹æ›´é †æš¢ï¼Œç‰¹åˆ¥æ˜¯æ–°å¢äº† [MDX v1 çš„ç›¸å®¹æ€§é¸é …](/docs/api/docusaurus-config#markdown)ã€‚

æœ€ç°¡å–®çš„ç¶²ç«™åƒ…éœ€å‡ç´šå°‘æ•¸ npm ä¾è³´é …ã€‚é‡å°æ›´è¤‡é›œçš„ç¶²ç«™ï¼Œæˆ‘å€‘æå‡ºå¹¾é …ç­–ç•¥å”åŠ©æ‚¨æ›´æœ‰ä¿¡å¿ƒåœ°å®Œæˆå‡ç´šï¼š

- æå‰ [æº–å‚™æ‚¨çš„ç¶²ç«™](/blog/preparing-your-site-for-docusaurus-v3)ï¼Œé€æ­¥èª¿æ•´ï¼ŒåŒæ™‚ç¶­æŒä½¿ç”¨ Docusaurus v2
- [è¨­å®šè¦–è¦ºå›æ­¸æ¸¬è©¦](/blog/upgrading-frontend-dependencies-with-confidence-using-visual-regression-testing) ä»¥æ•æ‰å‡ç´šéç¨‹ä¸­æ„å¤–çš„è¦–è¦ºè®Šæ›´

:::info[é—œæ–¼ Docusaurus v2]

æ ¹æ“šæˆ‘å€‘çš„ [ç™¼å¸ƒæµç¨‹](/community/release-process)ï¼ŒDocusaurus v2 ç¾å·²é€²å…¥ **ç¶­è­·æ¨¡å¼**ã€‚æœªä¾† 3 å€‹æœˆå…§ï¼ˆè‡³ 2024 å¹´ 1 æœˆ 31 æ—¥ï¼‰åƒ…æœƒé‡å°é‡å¤§å®‰å…¨æ€§å•é¡Œæä¾›æ”¯æ´ã€‚å»ºè­°åœ¨æ­¤æ™‚é–“æ¡†æ¶å…§å‡ç´šè‡³ v3 ç‰ˆæœ¬ã€‚

:::

import IframeWindow from '@site/src/components/BrowserWindow/IframeWindow';

## é‡å¤§è®Šæ›´

æœ¬ç¯€åƒ…æä¾›å¿«é€Ÿæ¦‚è¦½ã€‚æ‰€æœ‰é‡å¤§è®Šæ›´å‡è©³è¼‰æ–¼ [**v3 å‡ç´šæŒ‡å—**](/docs/migration/v3)ã€‚

Docusaurus v3 å°‡æ•¸å€‹ä¾è³´é …å‡ç´šè‡³æ–°ä¸»è¦ç‰ˆæœ¬ï¼Œæ¯é …å‡ç´šçš†ä¼´éš¨å…¶å°æ‡‰çš„é‡å¤§è®Šæ›´ï¼š

- Node.js v16 â¡ï¸ v18
- React v17 â¡ï¸ v18
- MDX v1 â¡ï¸ v3
- TypeScript v4 â¡ï¸ v5
- prism-react-renderer v1 â¡ï¸ v2
- react-live v2 â¡ï¸ v4
- Mermaid v9 â¡ï¸ v10
- import-fresh v3 â¡ï¸ jiti v1
- remark-emoji v2 â¡ï¸ v4

å…¸å‹çš„ `package.json` ä¾è³´é …å‡ç´šç¯„ä¾‹å¦‚ä¸‹ï¼š

```diff title="package.json"
 {
   "dependencies": {
     // upgrade to Docusaurus v3
-    "@docusaurus/core": "2.4.3",
-    "@docusaurus/preset-classic": "2.4.3",
+    "@docusaurus/core": "3.0.0",
+    "@docusaurus/preset-classic": "3.0.0",
     // upgrade to MDX v3
-    "@mdx-js/react": "^1.6.22",
+    "@mdx-js/react": "^3.0.0",
     // upgrade to prism-react-renderer v2.0+
-    "prism-react-renderer": "^1.3.5",
+    "prism-react-renderer": "^2.1.0",
     // upgrade to React v18.0+
-    "react": "^17.0.2",
-    "react-dom": "^17.0.2"
+    "react": "^18.2.0",
+    "react-dom": "^18.2.0"
   },
   "devDependencies": {
     // upgrade Docusaurus dev dependencies to v3
-    "@docusaurus/module-type-aliases": "2.4.3",
-    "@docusaurus/types": "2.4.3"
+    "@docusaurus/module-type-aliases": "3.0.0",
+    "@docusaurus/types": "3.0.0"
   }
   "engines": {
     // require Node.js 18.0+
-    "node": ">=16.14"
+    "node": ">=18.0"
   }
 }
```

é™¤ MDX v3 å¤–ï¼Œå¤§å¤šæ•¸ä¼´éš¨é€™äº›å‡ç´šä¾è³´é …è€Œä¾†çš„é‡å¤§è®Šæ›´å·²ç”±æˆ‘å€‘å…§éƒ¨è™•ç†å®Œç•¢ï¼šå¤šæ•¸æƒ…æ³ä¸‹æ‚¨ç„¡éœ€æ¡å–ä»»ä½•è¡Œå‹•ã€‚åœ¨ä¾è³´é …å‡ç´šä¹‹å¤–ï¼Œç›´æ¥æºè‡ª Docusaurus ç¨‹å¼ç¢¼åº«çš„åŠŸèƒ½æ€§é‡å¤§è®Šæ›´åƒ…æœ‰ï¼š

- [#9189](https://github.com/facebook/docusaurus/pull/9189)ï¼šéƒ¨è½æ ¼ RSS é¥‹é€é è¨­é™åˆ¶èª¿æ•´ç‚º 20 æ¢ç›®
- [#9308](https://github.com/facebook/docusaurus/pull/9308)ï¼šä¿®æ­£ä¸¦é‡æ–°å¼•å…¥ `:::warning` è­¦ç¤ºæ¡†ï¼Œæ£„ç”¨ `:::caution`
- [#9310](https://github.com/facebook/docusaurus/pull/9310)ï¼šç§»é™¤èˆŠç‰ˆç‰ˆæœ¬åŒ–å´é‚Šæ¬„ ID å‰ç¶´ï¼ˆé©ç”¨æ–¼ 2021 å¹´ 12 æœˆ `v2.0.0-beta.10` ä¹‹å‰ç‰ˆæœ¬åŒ–çš„ç¶²ç«™ï¼‰
- [#7966](https://github.com/facebook/docusaurus/pull/7966)ï¼šé‡æ§‹æ–‡æª”ä¸»é¡Œå…ƒä»¶ï¼Œæœ€çµ‚å¯èƒ½éœ€è¦æ‚¨é‡æ–° swizzle é€™äº›å…ƒä»¶

## é‡é»åŠŸèƒ½

ä»¥ä¸‹åˆ—å‡ºæ­¤æ–°ç‰ˆæœ¬ä¸­éƒ¨åˆ†å¯¦ç”¨åŠŸèƒ½ï¼ˆéå®Œæ•´æ¸…å–®ï¼‰ã€‚æ‰€æœ‰åŠŸèƒ½è©³è¦‹ [**Docusaurus v3.0.0 ç‰ˆæœ¬èªªæ˜**](https://github.com/facebook/docusaurus/releases/tag/v3.0.0)ã€‚

### Markdown

Docusaurus v3 å·²å¾ MDX v1 å‡ç´šè‡³ MDX v3ï¼š

- åœ¨ [#8288](https://github.com/facebook/docusaurus/pull/8288) ä¸­ï¼Œæˆ‘å€‘å‡ç´šè‡³ [**MDX v2**](https://mdxjs.com/blog/v2/)ï¼ˆ[é·ç§»æŒ‡å—](https://mdxjs.com/migrating/v2/)ï¼‰
- åœ¨ [#9451](https://github.com/facebook/docusaurus/pull/9451) ä¸­ï¼Œæˆ‘å€‘å‡ç´šè‡³ [**MDX v3**](https://mdxjs.com/blog/v3/)ï¼ˆ[é·ç§»æŒ‡å—](https://mdxjs.com/migrating/v3/)ï¼‰

æ­¤æ–°ç‰ˆ MDX èƒ½**å¤§å¹…æå‡å…§å®¹æ’°å¯«è€…èˆ‡æ’ä»¶é–‹ç™¼è€…çš„é«”é©—**ï¼Œä¸¦ç‚ºå¯¦ç¾æ›´å¤š Markdown æ–°åŠŸèƒ½å¥ å®šåŸºç¤ã€‚

:::warning[MDX v3 - ä¸»è¦æŒ‘æˆ°]

å¾ MDX v1 é·ç§»è‡³ MDX v3 æ˜¯æ¡ç”¨ Docusaurus v3 çš„**ä¸»è¦æŒ‘æˆ°**ã€‚

éƒ¨åˆ†åœ¨ Docusaurus v2 æˆåŠŸç·¨è­¯çš„æ–‡ä»¶ï¼Œå¯èƒ½åœ¨ Docusaurus v3 ä¸­**ç·¨è­¯å¤±æ•—**ï¼Œæˆ–å‘ˆç¾**ä¸åŒæ¸²æŸ“çµæœ**ã€‚

å¤šæ•¸é‡å¤§è®Šæ›´æºè‡ª [MDX v2](https://mdxjs.com/blog/v2/)ï¼Œè€Œ [MDX v3](https://mdxjs.com/blog/v3/) å±¬å°å¹…æ›´æ–°ã€‚[MDX v2 é·ç§»æŒ‡å—](https://mdxjs.com/migrating/v2/)ä¸­çš„[æ›´æ–° MDX æ–‡ä»¶](https://mdxjs.com/migrating/v2/#update-mdx-files)ç« ç¯€å°æˆ‘å€‘ç‰¹åˆ¥é‡è¦ã€‚å¦è«‹å‹™å¿…é–±è®€[MDX ç–‘é›£æ’è§£](https://mdxjs.com/docs/troubleshooting-mdx/)é é¢ï¼Œå”åŠ©è§£è®€å¸¸è¦‹ MDX éŒ¯èª¤è¨Šæ¯ã€‚

**è«‹å‹¿éåº¦æ“”æ†‚**ã€‚å¤šæ•¸å•é¡Œ**å®¹æ˜“ä¿®æ­£**ï¼Œé€šå¸¸èˆ‡éœ€è½‰ç¾©çš„ `{` å’Œ `<` å­—å…ƒæœ‰é—œã€‚ä½†è‹¥ç¶²ç«™è¦æ¨¡è¼ƒå¤§ï¼Œæ‚¨å¯èƒ½éœ€è¦ç·¨è¼¯å¤§é‡æ–‡ä»¶è€Œæ„Ÿåˆ°åƒåŠ›ã€‚å› æ­¤ï¼Œæˆ‘å€‘æä¾› [`npx docusaurus-mdx-checker`](https://github.com/slorber/docusaurus-mdx-checker) æŒ‡ä»¤å”åŠ©è©•ä¼°å·¥ä½œé‡ï¼Œä¸¦å»ºè­°[é å…ˆæº–å‚™ç¶²ç«™](/blog/preparing-your-site-for-docusaurus-v3)ã€‚

è‹¥æ‚¨æ›¾è‡ªè¨‚ [MDX æ’ä»¶](/docs/markdown-features/plugins)ï¼ˆRemark/Rehypeï¼‰ï¼Œç”±æ–¼ AST çµæ§‹ç•¥æœ‰å·®ç•°ï¼Œå¯èƒ½éœ€è¦é‡æ§‹é€™äº›æ’ä»¶ã€‚

:::

æ­¤å‡ç´šä½¿æˆ‘å€‘èƒ½æ–°å¢[CommonMark æ¨¡å¼](/docs/markdown-features#mdx-vs-commonmark)ï¼Œè®“ç¾æœ‰æ–‡ä»¶æ›´å®¹æ˜“é·ç§»è‡³ Docusaurusã€‚ç›®å‰æ­¤åŠŸèƒ½ç‚º**å¯¦é©—æ€§**é¸é…ä¸”åŠŸèƒ½æœ‰é™ï¼ˆ[éƒ¨åˆ† Docusaurus åŠŸèƒ½å°‡ç„¡æ³•é‹ä½œ](https://github.com/facebook/docusaurus/issues/9092)ï¼‰ã€‚åœ¨ Docusaurus v3 ä¸­ï¼Œæ‰€æœ‰æ–‡ä»¶ä»ä»¥ MDX è§£æï¼Œä½†æˆ‘å€‘è¨ˆåŠƒåœ¨æœªä¾†ä¸»è¦ç‰ˆæœ¬ä¸­å°‡ `.md` æ–‡ä»¶æ”¹ä»¥ CommonMark è§£æï¼Œä¸¦å»ºè­°å°ä½¿ç”¨ JSX æˆ– ES æ¨¡çµ„çš„æ–‡ä»¶æ¡ç”¨ `.mdx` å‰¯æª”åã€‚

æˆ‘å€‘ä¹Ÿæ–°å¢äº†[å…¨åŸŸè¨­å®šç¶²ç«™ Markdown](/docs/api/docusaurus-config#markdown) çš„æ–¹å¼ï¼Œå¾ŒçºŒå°‡æä¾›æ›´å½ˆæ€§çš„é¸é …ã€‚

```js title="docusaurus.config.js"
export default {
  markdown: {
    format: 'mdx',
    mermaid: true,
    preprocessor: ({filePath, fileContent}) => {
      return fileContent.replaceAll('{{MY_VAR}}', 'MY_VALUE');
    },
    mdx1Compat: {
      comments: true,
      admonitions: true,
      headingIds: true,
    },
  },
};
```

Docusaurus ç¾æ¡ç”¨ [remark-directive](https://github.com/remarkjs/remark-directive) æ’ä»¶æ”¯æ´ admonitionsã€‚é€™è®“æ‚¨èƒ½é€éè‡ªè¨‚ Remark æ’ä»¶æ“´å±• Markdown åŠŸèƒ½ï¼Œä¾‹å¦‚å»ºç«‹å°ˆå±¬çš„[è‡ªè¨‚æŒ‡ä»¤](https://talk.commonmark.org/t/generic-directives-plugins-syntax/444)å¦‚ `:textDirective`ã€`::leafDirective` æˆ– `:::containerDirective`ã€‚

### ESM èˆ‡ TypeScript è¨­å®š {#esm-ts-configs}

åœ¨ [#9317](https://github.com/facebook/docusaurus/pull/9317) ä¸­ï¼Œæˆ‘å€‘æ–°å¢äº†å° ES æ¨¡çµ„å’Œ TypeScript è¨­å®šæª”çš„æ”¯æ´ï¼ŒåŒ…æ‹¬ç¶²ç«™é…ç½®ã€æ–‡æª”å´é‚Šæ¬„ã€æ’ä»¶å’Œé è¨­é…ç½®ã€‚

ä»¥ä¸‹æ˜¯å…©å€‹ TypeScript ç¯„ä¾‹ï¼Œæä¾›æ‚¨å…·æœ‰ IDE è‡ªå‹•è£œå…¨åŠŸèƒ½çš„ç¾ä»£åŒ–é–‹ç™¼é«”é©—ï¼š

```ts title="docusaurus.config.ts"
import type {Config} from '@docusaurus/types';
import type * as Preset from '@docusaurus/preset-classic';

const config: Config = {
  title: 'My Site',
  favicon: 'img/favicon.ico',
  // your site config ...
  presets: [
    [
      'classic',
      {
        // your preset config ...
      } satisfies Preset.Options,
    ],
  ],
  themeConfig: {
    // your theme config ...
  } satisfies Preset.ThemeConfig,
};

export default config;
```

```ts title="sidebars.ts"
import type {SidebarsConfig} from '@docusaurus/plugin-content-docs';

const sidebars: SidebarsConfig = {
  docs: ['introduction'],
};

export default sidebars;
```

### æœªåˆ—å‡ºçš„å…§å®¹

Docusaurus å·²åœ¨æˆ‘å€‘çš„ 3 å€‹å…§å®¹æ’ä»¶ï¼ˆæ–‡æª”ã€éƒ¨è½æ ¼ã€é é¢ï¼‰ä¸­æ”¯æ´ `draft: true` å‰ç½®å…ƒæ•¸æ“šé¸é …ï¼Œè©²é¸é …å…è¨±æ‚¨å¾ç”Ÿç”¢ç‰ˆæœ¬ä¸­ç§»é™¤æŸäº›é é¢ã€‚

åœ¨ [#8004](https://github.com/facebook/docusaurus/pull/8004) ä¸­ï¼Œæˆ‘å€‘å¼•å…¥äº†ä¸€å€‹æ–°çš„ `unlisted: true` å‰ç½®å…ƒæ•¸æ“šé¸é …ï¼Œè©²é¸é …æœƒè®“æ‚¨çš„é é¢åœ¨ç”Ÿç”¢ç‰ˆæœ¬ä¸­ä¿æŒå¯ç”¨ï¼Œä½†æœƒã€Œéš±è—ã€å®ƒå€‘ï¼Œé™¤éæ‚¨æ“æœ‰è©² URLï¼Œå¦å‰‡ç„¡æ³•ç™¼ç¾é€™äº›é é¢ã€‚é€™ç‚ºæ‚¨æä¾›äº†ä¸€ç¨®ä¾¿æ·çš„å·¥ä½œæµç¨‹ï¼Œå¯ä»¥åœ¨æœ€çµ‚ç™¼å¸ƒå‰è¼•é¬†å¾µæ±‚å°å…§å®¹çš„åé¥‹ã€‚

æœªåˆ—å‡ºçš„å…§å®¹å°‡æœƒï¼š

- å¾ `sitemap.xml` ä¸­æ’é™¤
- é€šé `<meta name="robots" content="noindex, nofollow" />` å¾ SEO çµæœä¸­æ’é™¤
- å¾éƒ¨è½æ ¼ RSS è¨‚é–±ä¸­æ’é™¤
- å¾ Algolia DocSearch çµæœä¸­æ’é™¤
- å¾ç¶²ç«™å°èˆªæ¬„é …ç›®ã€æ–‡æª”å´é‚Šæ¬„ã€éƒ¨è½æ ¼å´é‚Šæ¬„ã€éƒ¨è½æ ¼å­˜æª”ã€æ¨™ç±¤é é¢ç­‰è™•éæ¿¾æ‰

æœªåˆ—å‡ºçš„å…§å®¹é‚„æœƒé¡¯ç¤ºä¸€å€‹æ©«å¹…ï¼Œä»¥ä¾¿æ‚¨åœ¨å…§å®¹æº–å‚™å¥½æ­£å¼ç™¼å¸ƒæ™‚ä¸æœƒå¿˜è¨˜é—œé–‰è©²é¸é …ã€‚é€™è£¡æœ‰ä¸€å€‹[æœªåˆ—å‡ºçš„éƒ¨è½æ ¼æ–‡ç« ](/tests/blog/unlisted-post)ç¯„ä¾‹ï¼š

<IframeWindow url="/tests/blog/unlisted-post" />

### React 18

åœ¨ [#8961](https://github.com/facebook/docusaurus/pull/8961) ä¸­ï¼Œæˆ‘å€‘å‡ç´šåˆ°äº† React 18ã€‚é€™éå¸¸é‡è¦ï¼Œç‰¹åˆ¥æ˜¯å°æ–¼[é€æ­¥æ¡ç”¨ Concurrent React åŠŸèƒ½](https://react.dev/blog/2022/03/29/react-v18#gradually-adopting-concurrent-features)ä»¥åŠå³å°‡æ¨å‡ºçš„ä»¤äººèˆˆå¥®çš„åŠŸèƒ½ï¼Œä¾‹å¦‚[æ§‹å»ºæ™‚ React Server Components](https://github.com/facebook/docusaurus/issues/9089)ã€‚

é€™å€‹æ–°ç‰ˆæœ¬çš„ React å°æ–¼å¤§å¤šæ•¸ Docusaurus ç¶²ç«™ä¾†èªªæ‡‰è©²æ˜¯ç„¡ç¸«æ›¿æ›çš„ã€‚å®ƒå¸¶ä¾†äº†ä¸€äº›ç ´å£æ€§è®Šæ›´ï¼Œæˆ‘å€‘å·²åœ¨ Docusaurus ä»£ç¢¼åº«å…§éƒ¨è™•ç†äº†é€™äº›è®Šæ›´ã€‚å¦‚æœæ‚¨çš„ç¶²ç«™ä½¿ç”¨äº†å¤§é‡è‡ªå®šç¾© React ä»£ç¢¼ï¼Œæˆ‘å€‘å»ºè­°æ‚¨æŸ¥çœ‹å®˜æ–¹æ–‡ç« [å¦‚ä½•å‡ç´šåˆ° React 18](https://react.dev/blog/2022/03/08/react-18-upgrade-guide)ï¼Œç‰¹åˆ¥æ˜¯æ–°çš„[è‡ªå‹•æ‰¹æ¬¡è™•ç†](https://react.dev/blog/2022/03/08/react-18-upgrade-guide#automatic-batching)è¡Œç‚ºã€‚

:::danger[å° React 18 åŠŸèƒ½çš„å¯¦é©—æ€§æ”¯æ´]

React 18 å¸¶ä¾†äº†æ–°åŠŸèƒ½ï¼š

- `<Suspense>`
- `React.lazy()`
- `startTransition()`

Docusaurus å°é€™äº›åŠŸèƒ½çš„æ”¯æ´è¢«è¦–ç‚º**å¯¦é©—æ€§**ã€‚æœªä¾†æˆ‘å€‘å¯èƒ½éœ€è¦èª¿æ•´æ•´åˆæ–¹å¼ï¼Œé€™å¯èƒ½æœƒå°è‡´é‹è¡Œæ™‚è¡Œç‚ºç™¼ç”Ÿè®ŠåŒ–ã€‚

:::

### è‡ªå‹• JSX é‹è¡Œæ™‚

Docusaurus ç¾åœ¨ä½¿ç”¨[ã€Œè‡ªå‹•ã€JSX é‹è¡Œæ™‚](https://legacy.reactjs.org/blog/2020/09/22/introducing-the-new-jsx-transform.html)ã€‚

åœ¨æœªä½¿ç”¨ä»»ä½• React API çš„ JSX æ–‡ä»¶ä¸­ï¼Œä¸å†éœ€è¦å°å…¥ Reactã€‚

```diff title="src/components/MyComponent.js"
- import React from 'react';

  export default function MyComponent() {
    return <div>Hello</div>;
  }
```

### èª¿è©¦ç‰ˆæœ¬

ç¾åœ¨å¯ä»¥åœ¨é–‹ç™¼æ¨¡å¼ä¸‹æ§‹å»ºæ‚¨çš„éœæ…‹ç¶²ç«™ã€‚

```bash
docusaurus build --dev
```

:::tip[èª¿è©¦ React ç›¸é—œå•é¡Œ]

Docusaurus å°‡åœ¨æ§åˆ¶å°ä¸­è¨˜éŒ„æ›´å¤šéŒ¯èª¤ï¼Œç‰¹åˆ¥æ˜¯é€šéæ–°çš„ [`onRecoverableError` å›èª¿](https://react.dev/reference/react-dom/client/hydrateRoot#parameters)è¨˜éŒ„ React 18 çš„æ°´åˆéŒ¯èª¤ã€‚

é€™ç¨®æ–°çš„æ§‹å»ºæ¨¡å¼å°æ–¼**æ’æŸ¥ React å•é¡Œ**ç‰¹åˆ¥æœ‰å¹«åŠ©ã€‚Docusaurus å°‡ä½¿ç”¨ React çš„é–‹ç™¼ç‰ˆæœ¬ï¼Œå¾è€Œç”¢ç”Ÿè©³ç´°ä¸”æ˜“è®€çš„éŒ¯èª¤è¨Šæ¯ï¼Œè€Œä¸æ˜¯éˆæ¥åˆ° [React éŒ¯èª¤è§£ç¢¼é é¢](https://reactjs.org/docs/error-decoder.html/)çš„å£“ç¸®éŒ¯èª¤è¨Šæ¯ã€‚

:::

### TypeScript

Docusaurus v3 ç¾åœ¨éœ€è¦ TypeScript 5.0 çš„æœ€ä½ç‰ˆæœ¬ã€‚

æˆ‘å€‘å°‡åŸºç¤æ¨è–¦çš„ TypeScript é…ç½®é‡æ–°å…§åŒ–åˆ°ä¸€å€‹æ–°çš„å®˜æ–¹å¥—ä»¶ä¸­ï¼š

```diff title="tsconfig.json"
 {
-  "extends": "@tsconfig/docusaurus/tsconfig.json",
+  "extends": "@docusaurus/tsconfig",
   "compilerOptions": {
     "baseUrl": "."
   }
 }
```

æˆ‘å€‘é‚„ç‚º Docusaurus æ ¸å¿ƒé¡å‹ã€æ’ä»¶å’Œé è¨­é¸é …æä¾›äº†æ›´ä¹¾æ·¨ã€æ¨™æº–åŒ–çš„å°å‡ºï¼Œæ‚¨å¯ä»¥åœ¨å…¨æ–°çš„ [TypeScript é…ç½®æª”æ¡ˆ](#esm-ts-configs) ä¸­ä½¿ç”¨é€™äº›å°å‡ºï¼š

```ts title="docusaurus.config.ts"
import type {Config} from '@docusaurus/types';
import type {Options, ThemeConfig} from '@docusaurus/preset-classic';
import type {SidebarsConfig} from '@docusaurus/plugin-content-docs';
```

### ç¨‹å¼ç¢¼å€å¡Š

åœ¨ [#9316](https://github.com/facebook/docusaurus/pull/9316) ä¸­ï¼Œæˆ‘å€‘é€éå‡ç´š [prism-react-renderer](https://github.com/FormidableLabs/prism-react-renderer) v2 æ”¹é€²äº†èªæ³•é«˜äº®ã€‚ä¾‹å¦‚ï¼Œbash åƒæ•¸ `--save` ç¾åœ¨æœƒé¡¯ç¤ºé¡è‰²ï¼š

```bash
npm install --save some-package
```

[äº’å‹•å¼ç¨‹å¼ç¢¼ç·¨è¼¯å™¨](/docs/markdown-features/code-blocks#interactive-code-editor) ä¹Ÿå‡ç´šè‡³ [react-live](https://github.com/FormidableLabs/react-live) v4ï¼Œä¸¦æ¡ç”¨äº†æ–°çš„ [sucrase](https://github.com/alangpierce/sucrase) ç·¨è­¯å™¨ã€‚å®ƒæ›´å¿«ã€æ›´è¼•é‡ï¼Œä¸¦æ”¯æ´ç¾ä»£åŠŸèƒ½ï¼Œç‰¹åˆ¥æ˜¯ TypeScript é¡å‹è¨»è§£ã€‚

```js live
function Hello() {
  const name: string = 'World';
  return <div>Hello {name}</div>;
}
```

åœ¨ [#8982](https://github.com/facebook/docusaurus/pull/8982) å’Œ [#8870](https://github.com/facebook/docusaurus/pull/8870) ä¸­ï¼Œæˆ‘å€‘é‚„ç‚º TeX é¢¨æ ¼ã€Haskell é¢¨æ ¼å’Œ WebAssembly è¨»è§£èªæ³•æ–°å¢äº† [é­”æ³•è¨»è§£](/docs/markdown-features/code-blocks#custom-magic-comments) æ”¯æ´ã€‚

```haskell title="haskell.hs"
stringLength :: String -> Int
-- highlight-next-line
stringLength [] = 0
stringLength (x:xs) = 1 + stringLength xs
```

```matlab title="matlab.m"
% highlight-start
function result = times2(n)
  result = n * 2;
end
% highlight-end
x = 10;
% highlight-next-line
y = times2(x);
```

### Mermaid åœ–è¡¨

åœ¨ [#9305](https://github.com/facebook/docusaurus/pull/9305) ä¸­ï¼Œæˆ‘å€‘å‡ç´šè‡³ Mermaid v10.4 ä¸¦æ–°å¢äº†éåŒæ­¥åœ–è¡¨æ¸²æŸ“æ”¯æ´ã€‚Docusaurus ç¾åœ¨èƒ½å¤ æ¸²æŸ“æ–°å‹æ…‹çš„åœ–è¡¨ã€‚

<details>
  <summary>Mindmap</summary>

```mermaid
mindmap
  root((mindmap))
    Research
      Creative techniques
      Strategic planning
      Argument mapping
    Tools
      Pen and paper
      Mermaid
```

</details>

<details>
  <summary>Quadrant chart</summary>

```mermaid
quadrantChart
  title Reach and engagement of campaigns
  x-axis Low Reach --> High Reach
  y-axis Low Engagement --> High Engagement
  quadrant-1 We should expand
  quadrant-2 Need to promote
  quadrant-3 Re-evaluate
  quadrant-4 May be improved
  Campaign A: [0.3, 0.6]
  Campaign B: [0.45, 0.23]
  Campaign C: [0.57, 0.69]
  Campaign D: [0.78, 0.34]
  Campaign E: [0.40, 0.34]
  Campaign F: [0.35, 0.78]
```

</details>

### æŸ¥è©¢å­—ä¸²è³‡æ–™å±¬æ€§

åœ¨ [#9028](https://github.com/facebook/docusaurus/pull/9028) ä¸­ï¼Œæˆ‘å€‘é€é `docusaurus-data-x` æŸ¥è©¢å­—ä¸²åƒæ•¸å¯¦ç¾äº†è‡ªè¨‚ HTML [è³‡æ–™å±¬æ€§](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/data-*) çš„è¨­å®šã€‚é€™ä½¿å¾—åœ¨å…¶ä»–ç¶²ç«™ä¸ŠåµŒå…¥ Docusaurus iframe æ›´åŠ å®¹æ˜“ï¼Œä¸¦è®“æ‚¨å¯ä»¥ä½¿ç”¨ CSS è‡ªè¨‚åµŒå…¥ç‰ˆæœ¬çš„å¤–è§€ã€‚

```css title="/src/css/custom.css"
html[data-navbar='false'] .navbar {
  display: none;
}

html[data-red-border] div#__docusaurus {
  border: red solid thick;
}
```

<IframeWindow url="/docs/?docusaurus-data-navbar=false&docusaurus-data-red-border" />

### å…¶ä»–åŠŸèƒ½

å…¶ä»–å€¼å¾—æåŠçš„æ–°åŠŸèƒ½ï¼š

- [#9189](https://github.com/facebook/docusaurus/pull/9189): æ–°å¢éƒ¨è½æ ¼ `feedOptions.limit` é¸é …
- [#9071](https://github.com/facebook/docusaurus/pull/9071): ç‚ºé é¢æ’ä»¶æ–°å¢æ¨™æº–åŒ– SEO å‰ç½®è³‡æ–™æ”¯æ´
- [#9171](https://github.com/facebook/docusaurus/pull/9028): å®¢æˆ¶ç«¯é‡å®šå‘æ’ä»¶ç¾åœ¨æ”¯æ´å®Œæ•´ç¶²å€å’Œç›®æ¨™ç¶²å€ä¸­çš„æŸ¥è©¢å­—ä¸²/é›œæ¹Š
- [#9171](https://github.com/facebook/docusaurus/pull/9171): æ–°å¢ ESLint è¦å‰‡ [`no-html-links`](/docs/api/misc/@docusaurus/eslint-plugin/no-html-links)
- [#8384](https://github.com/facebook/docusaurus/pull/8384): æ–°å¢ ESLint è¦å‰‡ [`prefer-docusaurus-heading`](/docs/api/misc/@docusaurus/eslint-plugin/prefer-docusaurus-heading)

é–±è®€ [**Docusaurus v3.0.0 ç‰ˆæœ¬èªªæ˜**](https://github.com/facebook/docusaurus/releases/tag/v3.0.0) ä»¥ç²å–å®Œæ•´çš„è®Šæ›´æ¸…å–®ã€‚

## çµè«–

æ­¤ç‰ˆæœ¬å¸¶ä¾†äº†ä¸€äº›åŠŸèƒ½ï¼Œä½†æ›´é‡è¦çš„æ˜¯ **å‡ç´šäº† Docusaurus åŸºç¤è¨­æ–½çš„è¨±å¤šéƒ¨åˆ†**ã€‚

**MDX å‡ç´š** ä»Šå¹´è€—è²»äº†æˆ‘å€‘å¤§é‡æ™‚é–“ï¼Œæˆ‘å€‘åŠªåŠ›è®“é€™ä¸€é‡è¦å‡ç´šå°æ‰€æœ‰äººä¾†èªªä¸é‚£éº¼å›°é›£ã€‚

åœ¨å®ŒæˆåŸºç¤æ¶æ§‹æ›´æ–°å¾Œï¼Œæˆ‘å€‘å°‡å¾ˆå¿«æ¢å¾©**æä¾›å¯¦ç”¨çš„æ–‡æª”åŠŸèƒ½**ï¼Œé€™äº›åŠŸèƒ½å°‡åœ¨æ¥ä¸‹ä¾†çš„æ¬¡è¦ç‰ˆæœ¬ä¸­é™¸çºŒæ¨å‡ºã€‚

æˆ‘å€‘è¡·å¿ƒæ„Ÿè¬æ‚¨å¤šå¹´ä¾†å°Docusaurusçš„ä½¿ç”¨ã€‚è¿‘å¹´ä¾†ï¼Œæ–‡æª”æ¡†æ¶é ˜åŸŸçš„ç«¶çˆ­æ—¥ç›Šæ¿€çƒˆï¼Œæˆ‘å€‘å°‡ç«­ç›¡å…¨åŠ›ç¢ºä¿Docusaurusä¿æŒå…¶**å“è¶Šçš„éˆæ´»æ€§**ï¼Œæˆç‚ºä¸€å€‹**å…·æœ‰ç«¶çˆ­åŠ›çš„è§£æ±ºæ–¹æ¡ˆ**ã€‚