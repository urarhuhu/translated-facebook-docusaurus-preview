---
sidebar_position: 9
slug: /api/plugins/@docusaurus/plugin-css-cascade-layers
---

# ğŸ“¦ plugin-css-cascade-layers

import APITable from '@site/src/components/APITable';

:::caution[å¯¦é©—æ€§åŠŸèƒ½]

æ­¤æ’ä»¶ä¸»è¦è¨­è¨ˆç‚ºé€é [Docusaurus `future.v4.useCssCascadeLayers` æ¨™è¨˜](../docusaurus.config.js.mdx#future) ç”±ç¶“å…¸é è¨­é›†å…§éƒ¨ä½¿ç”¨ï¼Œä½†äº¦å¯ä½œç‚ºç¨ç«‹æ’ä»¶ä½¿ç”¨ã€‚è‹¥æ‚¨æœ‰ç›¸é—œä½¿ç”¨æ¡ˆä¾‹ï¼Œè«‹[æ–¼æ­¤è™•å‘ŠçŸ¥æˆ‘å€‘](https://github.com/facebook/docusaurus/pull/11142)ï¼Œå”åŠ©æˆ‘å€‘è¨­è¨ˆç¬¦åˆ Docusaurus æœªä¾†ç™¼å±•çš„ APIã€‚

:::

æ­¤æ’ä»¶ç”¨æ–¼å°‡ Docusaurus ç¶²ç«™çš„ CSS æ¨¡çµ„å°è£æ–¼ [CSS å±¤ç–Šå±¤ç´š](https://css-tricks.com/css-cascade-layers/)ä¸­ã€‚æ­¤ç¾ä»£ CSS åŠŸèƒ½å·²ç²æ‰€æœ‰ä¸»æµç€è¦½å™¨å»£æ³›æ”¯æ´ï¼Œå¯å°‡ CSS è¦å‰‡åˆ†çµ„è‡³ç‰¹å®šå±¤ç´šï¼Œè³¦äºˆé–‹ç™¼è€…å° CSS å±¤ç–Šæ›´ç²¾ç¢ºçš„æ§åˆ¶æ¬Šã€‚

æ­¤æ’ä»¶ç”¨é€”ï¼š

- ç‚ºä»»ä½• CSS æ¨¡çµ„ï¼ˆåŒ…å«æœªåˆ†å±¤çš„ç¬¬ä¸‰æ–¹ CSSï¼‰å¥—ç”¨é ‚å±¤ `@layer myLayer { ... }` å€å¡Šè¦å‰‡
- å®šç¾©æ˜ç¢ºçš„å±¤ç´šæ’åº

:::caution

ç‚ºæ­£ç¢ºä½¿ç”¨æ­¤æ’ä»¶ï¼Œå»ºè­°å…ˆå……åˆ†ç†è§£ [CSS å±¤ç–Šå±¤ç´š](https://css-tricks.com/css-cascade-layers/)ã€[CSS å±¤ç–Šæ©Ÿåˆ¶](https://developer.mozilla.org/docs/Web/CSS/CSS_cascade/Cascade)åŠ[å„ªå…ˆç´šè¨ˆç®—](https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_cascade/Specificity)ã€‚

:::

## å®‰è£æ–¹å¼ {#installation}

```bash npm2yarn
npm install --save @docusaurus/plugin-css-cascade-layers
```

:::tip

è‹¥ä½¿ç”¨ `@docusaurus/preset-classic` é è¨­é›†ï¼Œæ­¤æ’ä»¶æœƒé€é [`siteConfig.future.v4.useCssCascadeLayers`](../docusaurus.config.js.mdx#future) æ¨™è¨˜è‡ªå‹•å®Œæˆé…ç½®ã€‚

:::

## é…ç½®é¸é … {#configuration}

å¯æ¥å—æ¬„ä½ï¼š

```mdx-code-block
<APITable>
```

| Name | Type | Default | Description |
| --- | --- | --- | --- |
| `layers` | `Layers` | **Built-in layers** | An object representing all the CSS cascade layers you want to use, and whether the layer should be applied to a given file path. See examples and types below. |

```mdx-code-block
</APITable>
```

### é¡å‹å®šç¾© {#types}

#### `Layers` {#EditUrlFunction}

```ts
type Layers = Record<
  string, // layer name
  (filePath: string) => boolean // layer matcher
>;
```

`layers` ç‰©ä»¶å®šç¾©æ–¹å¼ï¼š

- éµ(key)ï¼šå±¤ç´šåç¨±
- å€¼(value)ï¼šåˆ¤æ–·æŒ‡å®š CSS æ¨¡çµ„æª”æ¡ˆæ˜¯å¦æ­¸å±¬è©²å±¤ç´šçš„å‡½å¼

:::caution[é †åºé‡è¦æ€§]

ç‰©ä»¶é †åºå…·é—œéµå½±éŸ¿ï¼š

- éµçš„æ’åºæ±ºå®š CSS å±¤ç´šæ˜ç¢ºé †åº
- ç•¶å¤šå€‹å±¤ç´šåŒ¹é…æª”æ¡ˆè·¯å¾‘æ™‚ï¼Œåƒ…é¦–å€‹åŒ¹é…å±¤ç´šæœƒç”Ÿæ•ˆ

:::

### é…ç½®ç¯„ä¾‹ {#ex-config}

æ‚¨å¯é€éæ’ä»¶é¸é …é…ç½®æ­¤åŠŸèƒ½ã€‚

```js
const options = {
  layers: {
    'docusaurus.infima': (filePath) =>
      filePath.includes('/node_modules/infima/dist'),
    'docusaurus.theme-classic': (filePath) =>
      filePath.includes('/node_modules/@docusaurus/theme-classic/lib'),
  },
};
```